<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöú Fresh Farm Market - Direct From Farmers</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-brand">
                <h1>üöú Fresh Farm Market</h1>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home" onclick="loadContent('home')">Home</a></li>
                <li><a href="#products" onclick="loadContent('products')">Fresh Produce</a></li>
                <li><a href="#farmers" onclick="loadContent('farmers')">Our Farmers</a></li>
                <li><a href="#sell" onclick="event.preventDefault(); showFarmerOnboarding(); return false;" class="sell-link">üå± Sell Your Produce</a></li>
                <li><a href="#about" onclick="loadContent('about')">About Us</a></li>
                <li><a href="#contact" onclick="loadContent('contact')">Contact</a></li>
            </ul>
            <div class="auth-buttons" id="authButtons">
                <button class="btn-login" id="loginBtn" onclick="testButton()">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
                <button class="btn-register" id="registerBtn" onclick="showRegisterModal()">
                    <i class="fas fa-user-plus"></i> Register
                </button>
                <div class="user-toolbar" id="userToolbar" style="display: none;">
                    <button class="cart-btn" onclick="showCart()" title="View Cart">
                        <i class="fas fa-shopping-cart"></i> Cart (<span id="cartCount">0</span>)
                    </button>
                    <button class="farmer-dashboard-btn" id="farmerDashboardBtn" onclick="showFarmerDashboard()" style="display: none;" title="Farmer Dashboard">
                        <i class="fas fa-tractor"></i> Dashboard
                    </button>
                    <span class="welcome-text" id="welcomeText">Welcome!</span>
                    <button class="btn-profile" onclick="showProfile()">
                        <i class="fas fa-user"></i> Profile
                    </button>
                    <button class="btn-logout" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
            <div class="hamburger" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
            <h3>Browse Categories</h3>
            <ul>
                <li><a href="#" onclick="filterProducts('vegetables')"><i class="fas fa-carrot"></i> Fresh Vegetables</a></li>
                <li><a href="#" onclick="filterProducts('fruits')"><i class="fas fa-apple-alt"></i> Fresh Fruits</a></li>
                <li><a href="#" onclick="filterProducts('herbs')"><i class="fas fa-leaf"></i> Herbs & Spices</a></li>
                <li><a href="#" onclick="filterProducts('dairy')"><i class="fas fa-glass-whiskey"></i> Dairy Products</a></li>
                <li><a href="#" onclick="filterProducts('grains')"><i class="fas fa-wheat"></i> Grains & Cereals</a></li>
            </ul>
            <h3>Find Farmers</h3>
            <ul>
                <li><a href="#" onclick="loadContent('local-farmers')"><i class="fas fa-home"></i> Local Farmers</a></li>
                <li><a href="#" onclick="loadContent('organic-farmers')"><i class="fas fa-seedling"></i> Organic Farmers</a></li>
                <li><a href="#" onclick="loadContent('seasonal')"><i class="fas fa-calendar-alt"></i> Seasonal Produce</a></li>
            </ul>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <div class="hero-section">
            <h1>üöú Welcome to Fresh Farm Market</h1>
            <p class="hero-text">Connect directly with local farmers and get the freshest produce delivered to your door!</p>
            <div class="hero-stats">
                <div class="stat">
                    <h3>500+</h3>
                    <p>Local Farmers</p>
                </div>
                <div class="stat">
                    <h3>2000+</h3>
                    <p>Happy Customers</p>
                </div>
                <div class="stat">
                    <h3>100%</h3>
                    <p>Fresh Guarantee</p>
                </div>
            </div>
            <button class="cta-button" onclick="loadContent('products')">
                <i class="fas fa-shopping-cart"></i> Start Shopping Fresh Produce
            </button>
        </div>
        
        <div class="content-section">
            <h2>Why Choose Our Marketplace?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üöú</div>
                    <h3>Direct from Farmers</h3>
                    <p>Buy directly from local farmers, ensuring freshness and supporting your community.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ü•¨</div>
                    <h3>Farm Fresh Quality</h3>
                    <p>Get the freshest produce harvested within 24 hours of delivery.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üöö</div>
                    <h3>Fast Delivery</h3>
                    <p>Same-day or next-day delivery available from farms near you.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Fair Prices</h3>
                    <p>No middlemen means better prices for customers and fair pay for farmers.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h2><i class="fas fa-sign-in-alt"></i> Login to Fresh Farm Market</h2>
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="loginUsername"><i class="fas fa-user"></i> Username:</label>
                    <input type="text" id="loginUsername" name="username" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword"><i class="fas fa-lock"></i> Password:</label>
                    <input type="password" id="loginPassword" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </form>
            <p>Don't have an account? <a href="#" onclick="closeModal('loginModal'); showRegisterModal();">Register here</a></p>
            <div id="loginMessage"></div>
            <div class="demo-info">
                <p><strong>Demo Account:</strong></p>
                <p>Username: <code>demo</code> | Password: <code>demo123</code></p>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('registerModal')">&times;</span>
            <h2><i class="fas fa-user-plus"></i> Join Fresh Farm Market</h2>
            <form id="registerForm" onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label for="regFullName"><i class="fas fa-user"></i> Full Name:</label>
                    <input type="text" id="regFullName" name="fullName" required>
                </div>
                <div class="form-group">
                    <label for="regUsername"><i class="fas fa-user-circle"></i> Username:</label>
                    <input type="text" id="regUsername" name="username" required>
                </div>
                <div class="form-group">
                    <label for="regEmail"><i class="fas fa-envelope"></i> Email:</label>
                    <input type="email" id="regEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="regPassword"><i class="fas fa-lock"></i> Password:</label>
                    <input type="password" id="regPassword" name="password" required minlength="6">
                    <small>Minimum 6 characters</small>
                </div>
                <div class="form-group">
                    <label for="regConfirmPassword"><i class="fas fa-lock"></i> Confirm Password:</label>
                    <input type="password" id="regConfirmPassword" name="confirmPassword" required>
                </div>
                <div class="form-group">
                    <label for="regPhone"><i class="fas fa-phone"></i> Phone:</label>
                    <input type="tel" id="regPhone" name="phone">
                </div>
                <div class="form-group">
                    <label for="regUserType"><i class="fas fa-users"></i> Account Type:</label>
                    <select id="regUserType" name="userType" required>
                        <option value="customer">üõí Customer (Buy products)</option>
                        <option value="farmer">üöú Farmer (Sell products)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="regAddress"><i class="fas fa-map-marker-alt"></i> Address:</label>
                    <textarea id="regAddress" name="address" rows="3" placeholder="Your complete address"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i> Register
                </button>
            </form>
            <p>Already have an account? <a href="#" onclick="closeModal('registerModal'); showLoginModal();">Login here</a></p>
            <div id="registerMessage"></div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('cartModal')">&times;</span>
            <h2><i class="fas fa-shopping-cart"></i> Shopping Cart</h2>
            <div id="cartItems"></div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('profileModal')">&times;</span>
            <h2><i class="fas fa-user"></i> My Profile</h2>
            <div id="profileContent"></div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('checkoutModal')">&times;</span>
            <h2><i class="fas fa-credit-card"></i> Checkout</h2>
            <div id="checkoutContent"></div>
        </div>
    </div>

    <!-- Order Confirmation Modal -->
    <div class="modal" id="orderConfirmModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('orderConfirmModal')">&times;</span>
            <div id="orderConfirmContent"></div>
        </div>
    </div>

    <!-- Farmer Dashboard Modal -->
    <div class="modal" id="farmerDashboardModal">
        <div class="modal-content large-modal">
            <span class="close" onclick="closeModal('farmerDashboardModal')">&times;</span>
            <h2><i class="fas fa-tractor"></i> Farmer Dashboard</h2>
            <div class="dashboard-tabs">
                <button class="tab-button active" onclick="farmMarket.showDashboardTab('products')">
                    <i class="fas fa-seedling"></i> My Products
                </button>
                <button class="tab-button" onclick="farmMarket.showDashboardTab('add-product')">
                    <i class="fas fa-plus"></i> Add Product
                </button>
                <button class="tab-button" onclick="farmMarket.showDashboardTab('orders')">
                    <i class="fas fa-box"></i> Orders
                </button>
            </div>
            <div id="dashboardContent">
                <!-- Dashboard content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="modal" id="addProductModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addProductModal')">&times;</span>
            <h2><i class="fas fa-seedling"></i> Add New Product</h2>
            <form id="addProductForm" onsubmit="farmMarket.addProduct(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label for="productName"><i class="fas fa-tag"></i> Product Name:</label>
                        <input type="text" id="productName" name="name" required placeholder="e.g., Organic Tomatoes">
                    </div>
                    <div class="form-group">
                        <label for="productCategory"><i class="fas fa-list"></i> Category:</label>
                        <select id="productCategory" name="category" required>
                            <option value="">Select Category</option>
                            <option value="vegetables">ü•ï Vegetables</option>
                            <option value="fruits">üçé Fruits</option>
                            <option value="grains">üåæ Grains</option>
                            <option value="dairy">ü•õ Dairy</option>
                            <option value="herbs">üåø Herbs</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="productPrice"><i class="fas fa-dollar-sign"></i> Price per unit ($):</label>
                        <input type="number" id="productPrice" name="price" step="0.01" min="0" required placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label for="productUnit"><i class="fas fa-weight"></i> Unit:</label>
                        <select id="productUnit" name="unit" required>
                            <option value="lb">Per Pound (lb)</option>
                            <option value="kg">Per Kilogram (kg)</option>
                            <option value="piece">Per Piece</option>
                            <option value="bunch">Per Bunch</option>
                            <option value="dozen">Per Dozen</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="productDescription"><i class="fas fa-info-circle"></i> Description:</label>
                    <textarea id="productDescription" name="description" rows="3" placeholder="Describe your product..."></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="productStock"><i class="fas fa-boxes"></i> Stock Quantity:</label>
                        <input type="number" id="productStock" name="stock" min="0" required placeholder="Available quantity">
                    </div>
                    <div class="form-group">
                        <label for="productHarvest"><i class="fas fa-calendar"></i> Harvest Date:</label>
                        <input type="date" id="productHarvest" name="harvestDate" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="productImage"><i class="fas fa-image"></i> Product Image URL:</label>
                    <input type="url" id="productImage" name="image" placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="productOrganic" name="organic">
                        <span class="checkmark"></span>
                        <i class="fas fa-leaf"></i> Certified Organic
                    </label>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Add Product
                </button>
            </form>
        </div>
    </div>

    <!-- Farmer Onboarding Modal -->
    <div class="modal" id="farmerOnboardingModal">
        <div class="modal-content large-modal">
            <span class="close" onclick="closeModal('farmerOnboardingModal')">&times;</span>
            <h2><i class="fas fa-tractor"></i> Start Selling Your Produce</h2>
            <div class="onboarding-intro">
                <p>Join our marketplace and connect directly with customers who value fresh, local produce!</p>
                <div class="benefits-grid">
                    <div class="benefit-item">
                        <i class="fas fa-dollar-sign"></i>
                        <h4>Better Prices</h4>
                        <p>Sell directly to customers without middlemen</p>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-users"></i>
                        <h4>Direct Connection</h4>
                        <p>Build relationships with local customers</p>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-chart-line"></i>
                        <h4>Grow Your Business</h4>
                        <p>Expand your reach and increase sales</p>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-leaf"></i>
                        <h4>Support Sustainability</h4>
                        <p>Promote local, sustainable farming</p>
                    </div>
                </div>
            </div>
            
            <form id="farmerOnboardingForm" onsubmit="farmMarket.handleFarmerOnboarding(event)">
                <h3><i class="fas fa-user"></i> Personal Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="farmerFullName"><i class="fas fa-user"></i> Full Name:</label>
                        <input type="text" id="farmerFullName" name="fullName" required placeholder="Your full name">
                    </div>
                    <div class="form-group">
                        <label for="farmerEmail"><i class="fas fa-envelope"></i> Email:</label>
                        <input type="email" id="farmerEmail" name="email" required placeholder="your.email@example.com">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="farmerPhone"><i class="fas fa-phone"></i> Phone Number:</label>
                        <input type="tel" id="farmerPhone" name="phone" required placeholder="(555) 123-4567">
                    </div>
                    <div class="form-group">
                        <label for="farmerUsername"><i class="fas fa-user-circle"></i> Username:</label>
                        <input type="text" id="farmerUsername" name="username" required placeholder="Choose a username">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="farmerPassword"><i class="fas fa-lock"></i> Password:</label>
                        <input type="password" id="farmerPassword" name="password" required placeholder="Choose a secure password">
                    </div>
                    <div class="form-group">
                        <label for="farmerConfirmPassword"><i class="fas fa-lock"></i> Confirm Password:</label>
                        <input type="password" id="farmerConfirmPassword" name="confirmPassword" required placeholder="Confirm your password">
                    </div>
                </div>

                <h3><i class="fas fa-tractor"></i> Farm Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="farmName"><i class="fas fa-seedling"></i> Farm Name:</label>
                        <input type="text" id="farmName" name="farmName" required placeholder="Green Valley Farm">
                    </div>
                    <div class="form-group">
                        <label for="farmSize"><i class="fas fa-expand-arrows-alt"></i> Farm Size (in acres):</label>
                        <input type="number" id="farmSize" name="farmSize" min="0.1" step="0.1" required placeholder="5.0">
                    </div>
                </div>
                <div class="form-group">
                    <label for="farmLocation"><i class="fas fa-map-marker-alt"></i> Farm Location:</label>
                    <input type="text" id="farmLocation" name="farmLocation" required placeholder="City, State, ZIP">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="farmSpecialty"><i class="fas fa-carrot"></i> Primary Specialty:</label>
                        <select id="farmSpecialty" name="farmSpecialty" required>
                            <option value="">Select your specialty</option>
                            <option value="vegetables">ü•ï Vegetables</option>
                            <option value="fruits">üçé Fruits</option>
                            <option value="grains">üåæ Grains & Cereals</option>
                            <option value="dairy">ü•õ Dairy Products</option>
                            <option value="herbs">üåø Herbs & Spices</option>
                            <option value="mixed">üåª Mixed Farming</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="farmExperience"><i class="fas fa-calendar-alt"></i> Experience (in years):</label>
                        <input type="number" id="farmExperience" name="farmExperience" min="0" max="50" required placeholder="5">
                    </div>
                </div>
                <div class="form-group">
                    <label for="farmDescription"><i class="fas fa-info-circle"></i> Farm Description:</label>
                    <textarea id="farmDescription" name="farmDescription" rows="3" placeholder="Tell customers about your farm, farming practices, and what makes your produce special..."></textarea>
                </div>

                <h3><i class="fas fa-certificate"></i> Certifications & Practices</h3>
                <div class="certifications-grid">
                    <label class="checkbox-label">
                        <input type="checkbox" name="certifications" value="organic">
                        <span class="checkmark"></span>
                        <i class="fas fa-leaf"></i> Organic Certified
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="certifications" value="sustainable">
                        <span class="checkmark"></span>
                        <i class="fas fa-recycle"></i> Sustainable Practices
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="certifications" value="gmo-free">
                        <span class="checkmark"></span>
                        <i class="fas fa-ban"></i> GMO-Free
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="certifications" value="pesticide-free">
                        <span class="checkmark"></span>
                        <i class="fas fa-shield-alt"></i> Pesticide-Free
                    </label>
                </div>

                <h3><i class="fas fa-truck"></i> Delivery & Sales</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="deliveryRadius"><i class="fas fa-map-marked-alt"></i> Delivery Radius (miles):</label>
                        <input type="number" id="deliveryRadius" name="deliveryRadius" min="1" max="100" required placeholder="25">
                    </div>
                    <div class="form-group">
                        <label for="minOrder"><i class="fas fa-shopping-basket"></i> Minimum Order ($):</label>
                        <input type="number" id="minOrder" name="minOrder" min="0" step="0.01" placeholder="0.00">
                    </div>
                </div>
                <div class="form-group">
                    <label for="deliveryDays"><i class="fas fa-calendar-check"></i> Available Delivery Days:</label>
                    <div class="days-grid">
                        <label class="checkbox-label">
                            <input type="checkbox" name="deliveryDays" value="monday">
                            <span class="checkmark"></span>
                            Monday
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="deliveryDays" value="tuesday">
                            <span class="checkmark"></span>
                            Tuesday
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="deliveryDays" value="wednesday">
                            <span class="checkmark"></span>
                            Wednesday
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="deliveryDays" value="thursday">
                            <span class="checkmark"></span>
                            Thursday
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="deliveryDays" value="friday">
                            <span class="checkmark"></span>
                            Friday
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="deliveryDays" value="saturday">
                            <span class="checkmark"></span>
                            Saturday
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="deliveryDays" value="sunday">
                            <span class="checkmark"></span>
                            Sunday
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-large">
                        <i class="fas fa-rocket"></i> Start Selling Now!
                    </button>
                    <p class="terms-text">
                        By joining, you agree to our <a href="#" onclick="showTerms()">Terms of Service</a> and 
                        <a href="#" onclick="showPrivacy()">Privacy Policy</a>
                    </p>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="toast" id="toast"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p>Loading...</p>
    </div>

    <script src="js/simple-app.js"></script>
    <script>
        // Test if JavaScript is working
        console.log('Inline JavaScript is working');
        
        // Test function for buttons
        function testButton() {
            alert('Button test works!');
            console.log('Test button clicked');
            // Also try to show login modal
            if (window.farmMarket && window.farmMarket.showLoginModal) {
                window.farmMarket.showLoginModal();
            }
        }
        
        // Simple login test
        function simpleLogin() {
            alert('Simple login test works!');
            console.log('Simple login clicked');
        }
        
        // Debug functions for testing
        function testLoadContent(section) {
            console.log('testLoadContent called with:', section);
            alert('Loading content: ' + section);
            if (window.loadContent) {
                window.loadContent(section);
            } else {
                console.error('loadContent function not found');
            }
        }
        
        function testShowFarmerOnboarding() {
            console.log('testShowFarmerOnboarding called');
            alert('Opening farmer onboarding');
            if (window.showFarmerOnboarding) {
                window.showFarmerOnboarding();
            } else {
                console.error('showFarmerOnboarding function not found');
            }
        }
        
        function testShowRegisterModal() {
            console.log('testShowRegisterModal called');
            alert('Opening register modal');
            if (window.showRegisterModal) {
                window.showRegisterModal();
            } else {
                console.error('showRegisterModal function not found');
            }
        }
        
        // Check if farmMarket is available
        window.addEventListener('load', function() {
            console.log('Page loaded');
            console.log('Available global functions:', Object.keys(window).filter(key => typeof window[key] === 'function'));
            if (typeof farmMarket !== 'undefined') {
                console.log('farmMarket is available:', farmMarket);
            } else {
                console.log('farmMarket is NOT available');
            }
            if (typeof window.farmMarket !== 'undefined') {
                console.log('window.farmMarket is available:', window.farmMarket);
            } else {
                console.log('window.farmMarket is NOT available');
            }
        });
    </script>
</body>
</html>
